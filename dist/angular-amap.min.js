!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],t);else{var n=t("object"==typeof exports?require("angular"):e.angular);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ngAmap=void 0;var a=n(1),r=o(a),i=n(2),l=n(3),u=n(4),c=n(5),d=n(6),s=n(7);t.ngAmap=function(){var e="angular-amap";return(0,u.def)(e,"ngAmap",{restrict:"E",scope:{options:"=",ak:"@",offline:"=",onMapLoaded:"&"},link:function(e,t,n){var o=r["default"].extend({},i.defaultOpts,e.options),a=r["default"].extend({},i.defaultOfflineOpts,e.offline);e.offlineWords=a.txt,(0,l.validator)(e.ak,"ak must not be empty"),(0,l.validator)(o.center,"options.center must be set"),(0,l.validator)(o.center.longitude,"options.center.longitude must be set"),(0,l.validator)(o.center.latitude,"options.center.latitude must be set"),(0,l.validator)(n.id,"id cannot be ignored"),(0,c.loader)(e.ak,a,function(){var n=(0,s.createInstance)(o,t[0]);e.onMapLoaded({map:n});var a=[];(0,s.redrawMarkers)(n,a,o),e.$watch("options.center",function(t,r){o=e.options,n.setZoomAndCenter(o.zoom,new AMap.LngLat(o.center.longitude,o.center.latitude)),(0,s.redrawMarkers)(n,a,o)},!0),e.$watch("options.markers",function(e,t){(0,s.redrawMarkers)(n,a,o)},!0)}),e.divStyle=d.divStyle,e.labelStyle=d.labelStyle,setTimeout(function(){var t=document.querySelector("ng-amap div label");e.labelStyle.marginTop=t.clientHeight/-2+"px",e.labelStyle.marginLeft=t.clientWidth/-2+"px",e.$apply()})},template:'<div ng-style="divStyle"><label ng-style="labelStyle">{{ offlineWords }}</label></div>'}),e}()},function(t,n){t.exports=e},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultOpts={toolBar:!0,scaleCtrl:!0,overviewCtrl:!0,enableScrollWheelZoom:!0,showIndoorMap:!1,zoom:10},t.defaultOfflineOpts={retryInterval:3e4,txt:"OFFLINE"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validator=function(e,t){if(!e)throw new Error(t)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.def=void 0;var a=n(1),r=o(a);t.def=function(e,t,n){r["default"].module(e,[]).directive(t,[function(){return n}])}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loader=function(e,t,n){var o="http://webapi.amap.com/maps?v=1.3&key="+e+"&callback=amapinit",a=window.aMap;if(a&&"loading"===a.status)return a.callbacks.push(n);if(a&&"loaded"===a.status)return n();window.aMap={status:"loading",callbacks:[]},window.amapinit=function(){window.aMap.status="loaded",n(),window.aMap.callbacks.forEach(function(e){return e()}),window.aMap.callbacks=[]};var r=function i(){var e=document.createElement("script");e.type="text/javascript",e.src=o,e.onerror=function(){Array.prototype.slice.call(document.querySelectorAll("ng-amap div")).forEach(function(e){e.style.opacity=1}),document.body.removeChild(e),setTimeout(i,t.retryInterval)},document.body.appendChild(e)};r()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.divStyle={width:"100%",height:"100%",backgroundColor:"#E6E6E6",position:"relative",opacity:0},t.labelStyle={fontSize:"30px",position:"absolute",top:"50%",marginTop:0,left:"50%",marginLeft:0}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.createInstance=function(e,t){var n=new AMap.Map(t.id,{scrollWheel:e.enableScrollWheelZoom,showIndoorMap:e.showIndoorMap});return n.setZoomAndCenter(e.zoom,new AMap.LngLat(e.center.longitude,e.center.latitude)),e.toolBar&&n.plugin(["AMap.ToolBar"],function(){n.addControl(new AMap.ToolBar)}),e.scaleCtrl&&n.plugin(["AMap.Scale"],function(){n.addControl(new AMap.Scale)}),e.overviewCtrl&&n.plugin(["AMap.OverView"],function(){n.addControl(new AMap.OverView)}),n},t.createMarker=function(e,t){return new AMap.Marker({icon:e.icon,position:t})});t.redrawMarkers=function(e,t,o){t.forEach(function(e){var t=e.marker,n=e.listener;AMap.event.removeListener(n),t.setMap(null)}),t.length=0,o.markers&&o.markers.forEach(function(o){var a=n(o,new AMap.LngLat(o.longitude,o.latitude));a.setMap(e);var r={marker:a,listener:null};if(t.push(r),o.title||o.content){var i="<p>"+o.title+"</p><p>"+o.content+"</p>",l=new AMap.InfoWindow({isCustom:!1,autoMove:!0,content:i});o.width&&o.height&&l.setSize(new AMap.Size(o.width,o.height)),r.listener=AMap.event.addListener(a,"click",function(t){l.open(e,a.getPosition())})}})}}])});